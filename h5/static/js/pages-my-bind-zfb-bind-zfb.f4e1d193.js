(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-bind-zfb-bind-zfb"],{"28db":function(e,t,n){"use strict";var i=n("ee27");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=i(n("c964")),u=i(n("fe83")),r={name:"sendCode",data:function(){return{timer:null,send:!0,time:null}},props:{type:{type:String,default:"1"},url:{type:String,default:u.default.sendCodeApiUrl},tel:{type:String,default:""},second:{type:Number,default:60}},created:function(){this.time=this.second},methods:{sendCode:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$validate.isPhone(e.tel)){t.next=3;break}return uni.showToast({icon:"none",title:"请输入正确的手机号"}),t.abrupt("return",!1);case 3:return n=e,t.next=6,e.post(e.url,{mobile:e.tel});case 6:i=t.sent,0==i.code&&(n.send=!1,n.timer=setInterval((function(){n.time--,n.time<=0&&(n.send=!0,n.time=this.second,clearInterval(n.timer))}),1e3));case 8:case"end":return t.stop()}}),t)})))()}}};t.default=r},"2c64":function(e,t,n){"use strict";n.r(t);var i=n("bec4"),a=n("743b");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"229033a9",null,!1,i["a"],r);t["default"]=c.exports},"2f38":function(e,t,n){"use strict";var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=i(n("c964")),u=i(n("f3f3")),r=n("2f62"),s=i(n("e8aa")),c={components:{sendCode:s.default},data:function(){return{isBind:!1,btnGray:!0,form:{smscode:"",alipay_name:"",alipay_account:""}}},computed:(0,u.default)({},(0,r.mapState)({userInfo:function(e){return e.user.userInfo}})),onLoad:function(){this.isBind=1==this.userInfo.is_zfb,this.form.alipay_name=this.userInfo.alipay_name,this.form.alipay_account=this.userInfo.alipay_account},methods:(0,u.default)({},(0,r.mapActions)(["updateUserInfo"]),{submit:function(){this.bindZfb()},bindZfb:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.post("/wap/Cis/bindAlipay",e.form);case 2:n=t.sent,e.success(n,"",(function(){e.updateUserInfo(),setTimeout((function(){uni.navigateBack()}),500)}));case 4:case"end":return t.stop()}}),t)})))()},inputHandle:function(e){e.detail.value.length>=4&&(this.btnGray=!1)}})};t.default=c},"743b":function(e,t,n){"use strict";n.r(t);var i=n("2f38"),a=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a},"9bd3":function(e,t,n){"use strict";n.r(t);var i=n("28db"),a=n.n(i);for(var u in i)"default"!==u&&function(e){n.d(t,e,(function(){return i[e]}))}(u);t["default"]=a.a},a4dc:function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode.apply(void 0,arguments)}}},[e.send?n("v-uni-view",[e._v("获取验证码")]):n("v-uni-view",[e._v(e._s(e.time)+"s")])],1)},u=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}))},bec4:function(e,t,n){"use strict";var i,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("page",{attrs:{title:e.isBind?"修改支付宝":"绑定支付宝",bgClass:"bg-white"}},[n("v-uni-view",{staticClass:"qui-cells"},[n("v-uni-view",{staticClass:"qui-cell"},[n("v-uni-view",{staticClass:"cell-bd"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入姓名"},model:{value:e.form.alipay_name,callback:function(t){e.$set(e.form,"alipay_name",t)},expression:"form.alipay_name"}})],1)],1),n("v-uni-view",{staticClass:"qui-cell"},[n("v-uni-view",{staticClass:"cell-bd"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入账号"},model:{value:e.form.alipay_account,callback:function(t){e.$set(e.form,"alipay_account",t)},expression:"form.alipay_account"}})],1)],1),n("v-uni-view",{staticClass:"qui-cell"},[n("v-uni-view",{staticClass:"cell-bd"},[n("v-uni-input",{attrs:{disabled:!0,type:"number",maxlength:"11",value:"",placeholder:"请输入手机号码"},model:{value:e.userInfo.mobile,callback:function(t){e.$set(e.userInfo,"mobile",t)},expression:"userInfo.mobile"}})],1)],1),n("v-uni-view",{staticClass:"qui-cell"},[n("v-uni-view",{staticClass:"cell-bd"},[n("v-uni-input",{attrs:{type:"number",maxlength:"6",value:"",placeholder:"请输入验证码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputHandle.apply(void 0,arguments)}},model:{value:e.form.smscode,callback:function(t){e.$set(e.form,"smscode",t)},expression:"form.smscode"}})],1),n("v-uni-view",{staticClass:"qui-btn w160 bg-gray inline small"},[n("send-code",{attrs:{tel:e.userInfo.mobile}})],1)],1)],1),n("v-uni-view",{staticClass:"plr50 ptb50"},[e.btnGray?n("v-uni-view",{staticClass:"qui-btn bg-gray"},[e._v("确认添加")]):n("v-uni-view",{staticClass:"qui-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确认添加")])],1)],1)],1)},u=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return i}))},e8aa:function(e,t,n){"use strict";n.r(t);var i=n("a4dc"),a=n("9bd3");for(var u in a)"default"!==u&&function(e){n.d(t,e,(function(){return a[e]}))}(u);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);t["default"]=c.exports}}]);