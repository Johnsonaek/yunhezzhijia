(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-setting-set"],{"0e21":function(t,e,i){"use strict";var a=i("d7e7"),n=i.n(a);n.a},1341:function(t,e,i){"use strict";var a={uIcon:i("27d4").default,uniPopup:i("7049").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page",{attrs:{title:"设置"}},[t.userInfo?i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"head"},[i("v-uni-view",{staticClass:"head-top  a-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAvater.apply(void 0,arguments)}}},[t.userInfo.headimgurl?i("v-uni-image",{staticClass:"block wh120 radius50",attrs:{src:t.userInfo.headimgurl,mode:"widthFix"}}):i("v-uni-image",{staticClass:"block wh120 radius50",attrs:{src:"/static/images/default-tx.png",mode:"widthFix"}}),i("v-uni-view",{staticClass:"head-color"},[t._v("修改头像"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showchanid("nickname")}}},[t._v("昵称"),i("v-uni-view",{staticClass:"head-color"},[t.userInfo.nickname?i("v-uni-text",[t._v(t._s(t.userInfo.nickname))]):i("v-uni-text",[t._v("设置昵称")]),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showchanid("wx_number")}}},[t._v("微信号"),i("v-uni-view",{staticClass:"head-color"},[t.userInfo.wx_number?i("v-uni-text",[t._v(t._s(t.userInfo.wx_number))]):i("v-uni-text",[t._v("请填写您的微信号")]),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1)],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/my/change-phone/change-phone")}}},[t._v("绑定手机号"),i("v-uni-view",{staticClass:"head-color"},[t.userInfo.mobile?i("v-uni-text",[t._v(t._s(t.userInfo.mobile))]):i("v-uni-text",[t._v("请绑定手机")]),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-navigator",{attrs:{url:"amend"}},[i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/my/change-password/change-password")}}},[t._v("修改密码"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/my/pay-password/pay-password")}}},[t._v("修改支付密码"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/my/bind-zfb/bind-zfb")}}},[t._v("绑定支付宝"),i("v-uni-view",{staticClass:"head-color"},[t.userInfo.is_zfb?i("v-uni-text",[t._v("已绑定")]):i("v-uni-text",[t._v("未绑定")]),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top"},[t._v("微信授权绑定"),i("v-uni-view",{staticClass:"head-color"},[t._v("未授权"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top"},[t._v("淘宝授权"),i("v-uni-view",{staticClass:"head-color"},[t._v("未授权，点击去授权"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1)],1),i("v-uni-view",{staticClass:"head"},[i("v-uni-view",{staticClass:"head-top"},[t._v("清理缓存"),i("v-uni-view",{staticClass:"head-color"},[t._v("0.00M"),i("u-icon",{staticClass:"icon-right",attrs:{name:"arrow-right",color:"#8f8f8f"}})],1)],1),i("v-uni-view",{staticClass:"head-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto("/pages/my/about/about")}}},[t._v("关于我们")])],1),i("v-uni-view",{staticClass:"out",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.logout.apply(void 0,arguments)}}},[t._v("退出")])],1):t._e()],1),i("uni-popup",{ref:"popup",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"form ptb50 plr30 bg-white relative radius10",staticStyle:{width:"600rpx"}},[i("v-uni-view",{staticClass:"fs40",staticStyle:{position:"absolute",right:"10px",top:"10px",color:"#747474"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup("popup")}}},[i("v-uni-text",{staticClass:"cuIcon-close fs40"})],1),i("v-uni-view",{staticClass:"flex a-center j-center fw600 fs30 mb20"},[t._v("填写"+t._s(t.titleText))]),i("v-uni-view",{staticClass:"flex a-center j-center fs26 mb50",staticStyle:{color:"#747474"}},[t._v("请正确填写你的"+t._s(t.titleText))]),i("v-uni-view",{staticClass:"flex a-center j-center mb40"},[i("v-uni-input",{staticClass:"radius10 plr20 flex a-center h60 fs26 qui-input",staticStyle:{border:"1px solid #bbbbbb"},attrs:{type:"text",value:"",placeholder:""},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}})],1),i("v-uni-view",{staticClass:"qui-btn h80 mb20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("保存")])],1)],1),i("image-picker",{ref:"imgPicker",attrs:{hide:!0,count:1},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.upSuccess.apply(void 0,arguments)}}})],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},"1f8a":function(t,e,i){"use strict";i.r(e);var a=i("1341"),n=i("40a9");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("0e21");var o,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"1fd8e00e",null,!1,a["a"],o);e["default"]=r.exports},"3a33":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:{hide:t.hide}},[i("v-uni-view",{staticClass:"qui-grids gutter10",class:"column"+t.column},[i("v-uni-view",{staticClass:"hem"},[t._l(t.imgs,(function(e,a){return i("v-uni-view",{key:a,staticClass:"qui-grid",attrs:{"data-url":t.imgs[a]},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ViewImage.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"img1x1 relative"},[i("v-uni-image",{staticClass:"abs abslt",staticStyle:{height:"100%",width:"100%"},attrs:{src:t.imgs[a],mode:"aspectFill"}}),t.progress<100?i("v-uni-view",{staticClass:"abs flex aj-center text-white",staticStyle:{left:"0",right:"0",bottom:"0",top:"0","background-color":"rgba(0,0,0,0.6)"}},[t._v(t._s(t.progress)+"%")]):t._e(),i("v-uni-view",{staticClass:"abs absrt wh40 bg-red flex a-center j-center",attrs:{"data-index":a},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.DelImg.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close fs30"})],1)],1)],1)})),t.imgs.length<t.count?i("v-uni-view",{staticClass:"qui-grid",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChooseImage.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"img1x1 relative"},[i("v-uni-text",{staticClass:"cuIcon-cameraadd abs abscc fs50"})],1)],1):t._e()],2)],1)],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},"40a9":function(t,e,i){"use strict";i.r(e);var a=i("a2d8"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"4c35":function(t,e,i){"use strict";i.r(e);var a=i("7c0e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},5017:function(t,e,i){"use strict";i.r(e);var a=i("3a33"),n=i("4c35");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("dd76");var o,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"c8c88510",null,!1,a["a"],o);e["default"]=r.exports},"7c0e":function(t,e,i){"use strict";var a=i("ee27");i("99af"),i("a434"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("fe83")),s={name:"ImagePicker",props:{index:{type:[String,Number],default:0},hide:{type:Boolean,default:!1},count:{type:[String,Number],default:4},column:{type:[String,Number],default:4}},data:function(){return{progress:0,imgs:[],file:""}},methods:{ChooseImage:function(){var t=this,e=uni.getStorageSync("token"),i="";i=n.default.http+n.default.hostName,uni.chooseImage({count:this.count,sizeType:["original","compressed"],sourceType:["album"],success:function(a){0!=t.imgs.length?t.imgs=t.imgs.concat(a.tempFilePaths):t.imgs=a.tempFilePaths;var s=uni.uploadFile({url:i+n.default.uploadApiUrl,filePath:t.imgs[t.imgs.length-1],name:"file","content-type":"multipart/form-data",header:{token:e},success:function(e){var i=JSON.parse(e.data);t.success(i.data.imgUrl)},fail:function(e){t.imgs=[],uni.showToast({icon:"none",title:"图片上传失败！"}),t.progress=0}});s.onProgressUpdate((function(e){t.progress=e.progress,t.$emit("onProgress",e.progress)}))}})},ViewImage:function(t){uni.previewImage({urls:this.imgs,current:t.currentTarget.dataset.url})},DelImg:function(t){this.imgs.splice(t.currentTarget.dataset.index,1)},success:function(t){this.$emit("success",{file:t,index:this.index})}}};e.default=s},"82d1":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".hide[data-v-c8c88510]{opacity:0;width:0;height:0;overflow:hidden}",""]),t.exports=e},a2d8:function(t,e,i){"use strict";var a=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("c964")),s=a(i("f3f3")),o=a(i("5017")),c=a(i("7049")),r=i("2f62"),u={components:{uniPopup:c.default,ImagePicker:o.default},data:function(){return{inputVal:"",editType:"nickname",form:{},src:"http://pic2.sc.chinaz.com/Files/pic/pic9/202002/hpic2119_s.jpg",weixinName:"鱼水欢",changeName:!1,changeId:!1,titleText:""}},onLoad:function(){},computed:(0,s.default)({},(0,r.mapState)({userInfo:function(t){return t.user.userInfo}})),methods:(0,s.default)({},(0,r.mapMutations)(["NavChange","vlogout"]),{},(0,r.mapActions)(["updateUserInfo"]),{submit:function(){this.form[this.editType]=this.inputVal,""!=this.inputVal?(this.closePopup("popup"),this.inputVal="",this.editData()):uni.showToast({title:"请输入".concat(this.titleText),icon:"none"})},editData:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.post("/wap/Cis/updateUserInfo",t.form);case 2:i=e.sent,t.success(i,"保存成功",(function(){t.updateUserInfo()}));case 4:case"end":return e.stop()}}),e)})))()},logout:function(){this.vlogout(),this.goto("/pages/login/login")},showchaname:function(){this.changeName=!this.changeName},selectAvater:function(){this.$refs.imgPicker.ChooseImage()},upSuccess:function(t){console.log(t.file),this.form.headimgurl=t.file,this.editData()},showchanid:function(t){switch(this.editType=t,t){case"wx_number":this.titleText="微信号";break;case"nickname":this.titleText="昵称";break}this.$refs.popup.open(),this.changeId=!this.changeId}})};e.default=u},a429:function(t,e,i){var a=i("82d1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("52250ce6",a,!0,{sourceMap:!1,shadowMode:!1})},cb18:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.icon-right[data-v-1fd8e00e]{margin-left:%?10?%}.center[data-v-1fd8e00e]{padding-top:%?28?%}.out[data-v-1fd8e00e]{background-color:#fff;text-align:center;padding:%?20?% 0;margin-bottom:%?20?%}.bg[data-v-1fd8e00e]{background-color:rgba(0,0,0,.5);width:100%;height:100%}uni-page-body[data-v-1fd8e00e]{background-color:#f6f6f6}.head[data-v-1fd8e00e]{margin:%?10?% 0;background-color:#fff;padding:0 %?20?%;margin-bottom:%?20?%}.head .head-top[data-v-1fd8e00e]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?25?% 0;border-bottom:1px solid #f6f6f6;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.head .head-top .head-color[data-v-1fd8e00e]{color:#cacaca}.head .head-top uni-image[data-v-1fd8e00e]{border-radius:50%;width:%?80?%;height:%?80?%}body.?%PAGE?%[data-v-1fd8e00e]{background-color:#f6f6f6}',""]),t.exports=e},d7e7:function(t,e,i){var a=i("cb18");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("067c3682",a,!0,{sourceMap:!1,shadowMode:!1})},dd76:function(t,e,i){"use strict";var a=i("a429"),n=i.n(a);n.a}}]);