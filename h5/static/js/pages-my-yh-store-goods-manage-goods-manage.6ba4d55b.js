(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-yh-store-goods-manage-goods-manage"],{"0d70":function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page",{attrs:{title:"商品管理",bgClass:"bg-white",headbor:!1}},[i("v-uni-scroll-view",{staticClass:"bg-white nav superior_nav bor-1px-b",attrs:{"scroll-x":!0,"scroll-with-animation":!0,"scroll-left":t.scrollLeft}},[i("v-uni-view",{staticClass:"flex text-center"},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:n,staticClass:"cu-item flex-sub",class:n==t.TabCur?"text-red cur":"",attrs:{"data-type":e.type,"data-id":n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1)],1),0===t.list.length&&t.loaded?i("empty"):t._e(),t.loaded?t._e():i("v-uni-view",{staticClass:"loading ptb30"}),t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"qui-cells"},[i("v-uni-view",{staticClass:"qui-cell border-none"},[i("v-uni-view",{staticClass:"mr30"},[i("q-image",{attrs:{imgwh:[240,240],src:"/static/business/rangking/v2_qaxhld.jpg"}})],1),i("v-uni-view",{staticClass:"cell-bd"},[i("v-uni-view",{staticClass:"line2"},[t._v("烟台红富士苹果水果礼盒生鲜一级果径80-85mm")]),i("v-uni-view",{staticClass:"fs24 text-gray mt20"},[t._v("上架时间：2020-05-26")]),i("v-uni-view",{staticClass:"flex mt20 fs24",staticStyle:{"flex-wrap":"wrap"}},[i("v-uni-view",{staticClass:"mr20"},[i("v-uni-text",[t._v("拿货价")]),i("v-uni-text",{staticClass:"text-red"},[t._v("￥19.80")])],1),i("v-uni-view",{staticClass:"mr20"},[i("v-uni-text",[t._v("销售价")]),i("v-uni-text",{staticClass:"text-red"},[t._v("￥20.80")])],1),i("v-uni-view",{staticClass:"mt10"},[i("v-uni-text",[t._v("赚")]),i("v-uni-text",{staticClass:"text-red"},[t._v("￥1.00")])],1)],1)],1)],1),0==t.TabCur?i("v-uni-view",{staticClass:"plr30 flex bg-white tc pb24"},[i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-navigator",{staticClass:"qui-btn outline bg-blue inline h60 round",attrs:{url:"/pages/my/yh-store/edit/edit"}},[t._v("编辑商品")])],1),i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-view",{staticClass:"qui-btn outline bg-yellow inline h60 round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.upAndDown(e.id,e.is_sale)}}},[t._v("下架商品")])],1)],1):t._e(),1==t.TabCur?i("v-uni-view",{staticClass:"plr30 flex bg-white tc pb24"},[i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-view",{staticClass:"qui-btn outline bg-blue inline h60 round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.upAndDown(e.id,e.is_sale)}}},[t._v("重新上架")])],1),i("v-uni-view",{staticClass:"flex-item"},[i("v-uni-view",{staticClass:"qui-btn outline bg-yellow inline h60 round",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delGoods(e.id,n)}}},[t._v("删除商品")])],1)],1):t._e()],1)})),i("loading-more",{attrs:{"nomore-text":"我是有底线的",nomore:t.nomore,list:t.list}})],2)},s=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}))},1484:function(t,e,i){"use strict";var n=i("ee27");i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("7c19")),s={mixins:[a.default],data:function(){return{getUrl:"/wap/OwnSmallShop/goodsList",autoLoad:!1,TabCur:0,scrollLeft:0,isSale:!0,tabBars:[{name:"销售中",type:1},{name:"已下架",type:2}]}},onLoad:function(t){this.params.type=1,this.getListInit()},methods:{tabSelect:function(t){this.loaded&&(this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1),this.params.type=t.currentTarget.dataset.type,this.getListInit())},delGoods:function(t,e){var i=this;uni.showModal({title:"提示",content:"确定要删除此商品吗",success:function(n){n.confirm&&i.post("/wap/OwnSmallShop/goodsDel",{ids:t}).then((function(t){200==t.code&&(uni.showToast({title:"已删除",icon:"none"}),i.list.splice(e,1))}))}})},upAndDown:function(t,e){var i=this,n=this;console.log(t);var a,s="",r="";1==e?(a=2,s="确定要下架此商品吗",r="已下架"):2==e&&(a=1,s="确定要上架此商品吗",r="上架成功"),uni.showModal({title:"提示",content:s,success:function(e){e.confirm&&n.post("/wap/OwnSmallShop/goodsSetStatus",{id:t,is_sale:a}).then((function(t){200==t.code&&(uni.showToast({title:r,icon:"none"}),i.getListInit())}))}})}}};e.default=s},"7c19":function(t,e,i){"use strict";var n=i("ee27");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var a=n(i("c964")),s=n(i("d0ff")),r={data:function(){return{getUrl:"",listName:"list",list:[],loaded:!1,currentPage:0,nomore:!1,totalCount:0,autoLoad:!0,otherData:null,params:{currentPage:1,pageSize:10}}},onLoad:function(){this.autoLoad&&this.getListInit()},methods:{Scrolltolower:function(){this.loadMore()},loadMore:function(){this.params.currentPage++,this.params.currentPage>=this.totalCount?this.nomore=!0:this.getList()},getListInit:function(){this.list=[],this.currentPage=0,this.getList()},getListResult:function(t){this.list=[].concat((0,s.default)(this.list),(0,s.default)(t))},getOther:function(t){this.otherData=t},getList:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.getUrl){e.next=2;break}return e.abrupt("return");case 2:return t.loaded=!1,e.prev=3,e.next=6,t.post(t.getUrl,t.params);case 6:i=e.sent,t.totalCount=i.data.pageCount,t.getListResult(i.data[t.listName]),t.loaded=!0,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])})))()}}};e.default=r},ce8b:function(t,e,i){"use strict";i.r(e);var n=i("1484"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},d0ff:function(t,e,i){"use strict";i.r(e);var n=i("b680");function a(t){if(Array.isArray(t))return Object(n["a"])(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=i("dde1");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return a(t)||s(t)||Object(r["a"])(t)||o()}i.d(e,"default",(function(){return l}))},f339:function(t,e,i){"use strict";i.r(e);var n=i("0d70"),a=i("ce8b");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);var r,o=i("f0c5"),l=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"737f2354",null,!1,n["a"],r);e["default"]=l.exports}}]);